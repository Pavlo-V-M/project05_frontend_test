"use strict";(self.webpackChunkproject05_frontend_test=self.webpackChunkproject05_frontend_test||[]).push([[856],{5618:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(9439),i=t(8119),s=t(6048),a=t.n(s),_=t(9434),o=t(9967),c=t(1087),l=t(3329),g=function(){var e=(0,_.v9)(o.rl);return console.log(e),(0,l.jsx)("ul",{className:i.Z.drinks_list,children:e.cocktails.map((function(e){var n=e.drink,t=e.drinkThumb,r=e._id;return(0,l.jsx)("li",{className:i.Z.drinks_item,children:(0,l.jsxs)(c.rU,{className:i.Z.drinks_link,to:"/recipe/".concat(r),children:[(0,l.jsx)("div",{className:i.Z.drinks_card,children:(0,l.jsx)("img",{className:i.Z.drinks_img,src:t,alt:n})}),(0,l.jsx)("h2",{className:i.Z.drinks_title,children:n})]})},r)}))})},d=t(2791),k=t(5861),u=t(4687),p=t.n(u),P=t(1243),f=function(){var e=(0,k.Z)(p().mark((function e(n,t,r){var i,s,a,_,o,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r,s=n,a=localStorage.getItem("token"),(_=P.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(a),e.next=7,_.get("/api/search?keyword=".concat(t,"&pageNumber=").concat(s,"&pageSize=").concat(i));case 7:return o=e.sent,c=o.data,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),m=t(9265),v=t(1554),h=t(8493),D="http://localhost:3000/project05_frontend_test/drinks",Z=function(e){var n=e.pageCount,t=(0,d.useState)(1),s=(0,r.Z)(t,2),c=s[0],k=s[1],u=(0,_.I0)(),p=(0,_.v9)(m.B8),P=(0,_.v9)(h._r),Z=(0,_.v9)(o.rl);(0,d.useEffect)((function(){Z.totalPages>n&&k(Z.totalPages),Z.totalPages<n&&k(Z.totalPages)}),[Z.totalPages,P,n]);var x=(0,_.v9)(v.hx);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g,{}),(0,l.jsx)(a(),{nextLabel:">",breakLabel:"...",onClick:function(e){var n=e.nextSelectedPage+1;console.log(n);var t=window.location.href;t===D&&f(n," ",P).then((function(n){console.log("paginate"),u((0,o.KK)(n)),u((0,v.W5)(e.nextSelectedPage))})).catch((function(e){return console.log(e)})),t!==D&&f(n,p,P).then((function(n){console.log("paginate2"),u((0,o.KK)(n)),u((0,v.W5)(e.nextSelectedPage))})).catch((function(e){return console.log(e)}))},pageCount:c,pageRangeDisplayed:n,marginPagesDisplayed:1,forcePage:x,previousLabel:"<",renderOnZeroPageCount:null,containerClassName:i.Z.pagination,pageClassName:i.Z.page,previousClassName:i.Z.previous,nextClassName:i.Z.next,activeClassName:i.Z.active})]})},x=t(7689),b=t(7750),j="http://localhost:3000/project05_frontend_test/drinks",C="rejected",N="resolved",w=function(e){var n=e.searchParams,t=(0,d.useState)(""),s=(0,r.Z)(t,2),a=s[0],c=s[1],g=(0,d.useState)(8),k=(0,r.Z)(g,2),u=k[0],p=k[1],P=(0,_.I0)(),D=(0,_.v9)(m.B8),w=(0,_.v9)(h._r),y=(0,x.UO)().categoryName,S=n.get("query");return(0,d.useEffect)((function(){window.addEventListener("resize",(function(e){var n=e.target.innerWidth;console.log(n),n<768&&p(3),n>=768&&p(6)}))}),[P]),(0,d.useEffect)((function(){var e=window.location.href;e===j&&f(1," ",w).then((function(e){console.log("drinrlist"),e?(P((0,o.KK)(e)),P((0,v.W5)(0)),c(N)):c(C)})).catch((function(e){return console.log(e)})),(e!==j||S)&&f(1,D,w).then((function(e){console.log("drinrlist2"),e?(P((0,o.KK)(e)),P((0,v.W5)(0)),c(N)):c(C)})).catch((function(e){return console.log(e)}))}),[y,P,D,w,S]),"panding"===a?(0,l.jsx)(b.Z,{}):"resolved"===a?(0,l.jsx)("div",{className:i.Z.drinks,children:(0,l.jsx)(Z,{pageCount:u})}):"rejected"===a?(0,l.jsx)("div",{className:i.Z.drinks,children:(0,l.jsx)("img",{className:i.Z.drinks_img_error,src:"../../../images/404.jpg",alt:"404"})}):void 0}},1856:function(e,n,t){t.r(n);var r=t(5618),i=t(3329);n.default=function(){return(0,i.jsx)(r.Z,{})}},8119:function(e,n){n.Z={list:"DrinksPage_list__z4uQV",link:"DrinksPage_link__G0esZ",container:"DrinksPage_container__mX7Cz",button:"DrinksPage_button__pfW4J",backdrop:"DrinksPage_backdrop__w8Lt5",modal:"DrinksPage_modal__PkA8W","is-hidden":"DrinksPage_is-hidden__gsTFn",title:"DrinksPage_title__XgrnO",filter:"DrinksPage_filter__7Sbwp",select:"DrinksPage_select__h8guq",label:"DrinksPage_label__XOIoC",input:"DrinksPage_input__1eWv1",btn_submit:"DrinksPage_btn_submit__IFvZ4",input_svg:"DrinksPage_input_svg__BwABd",select_btn:"DrinksPage_select_btn__+4ppE",btn_svg:"DrinksPage_btn_svg__GwjO9",category_list:"DrinksPage_category_list__ljzSC",category_link:"DrinksPage_category_link__0KNIG",category_item:"DrinksPage_category_item__SeQdW",ingredients_box:"DrinksPage_ingredients_box__CKhHp",ingredients_list:"DrinksPage_ingredients_list__5T6gm",drinks:"DrinksPage_drinks__jHOjw",drinks_img_error:"DrinksPage_drinks_img_error__WZiZ1",drinks_list:"DrinksPage_drinks_list__vDrhD",drinks_item:"DrinksPage_drinks_item__S5MUu",drinks_title:"DrinksPage_drinks_title__hivX6",drinks_card:"DrinksPage_drinks_card__Hr7jO",drinks_img:"DrinksPage_drinks_img__xg30C",drinks_link:"DrinksPage_drinks_link__y4zE0",pagination:"DrinksPage_pagination__KlZQQ",page:"DrinksPage_page__EzRkK",active:"DrinksPage_active__hiFIF",previous:"DrinksPage_previous__Zeiga",next:"DrinksPage_next__mSPV5"}}}]);
//# sourceMappingURL=856.d8f1c594.chunk.js.map