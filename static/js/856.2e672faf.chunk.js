"use strict";(self.webpackChunkproject05_frontend_test=self.webpackChunkproject05_frontend_test||[]).push([[856],{7541:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(9439),i=t(805),s=t(6048),a=t.n(s),_=t(9434),o=t(9967),c=t(1087),l=t(3329),g=function(){var e=(0,_.v9)(o.rl);return console.log(e),(0,l.jsx)("ul",{className:i.Z.drinks_list,children:e.cocktails.map((function(e){var n=e.drink,t=e.drinkThumb,r=e._id;return(0,l.jsx)("li",{className:i.Z.drinks_item,children:(0,l.jsxs)(c.rU,{className:i.Z.drinks_link,to:"/recipe/".concat(r),children:[(0,l.jsx)("div",{className:i.Z.drinks_card,children:(0,l.jsx)("img",{className:i.Z.drinks_img,src:t,alt:n})}),(0,l.jsx)("h2",{className:i.Z.drinks_title,children:n})]})},r)}))})},d=t(2791),k=t(5861),u=t(4687),p=t.n(u),P=t(1243),f=function(){var e=(0,k.Z)(p().mark((function e(n,t,r){var i,s,a,_,o,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r,s=n,a=localStorage.getItem("token"),(_=P.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(a),e.next=7,_.get("/api/search?keyword=".concat(t,"&pageNumber=").concat(s,"&pageSize=").concat(i));case 7:return o=e.sent,c=o.data,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),m=t(9265),v=t(1554),h=t(8493),D="http://localhost:3000/project05_frontend_test/drinks",b=function(e){var n=e.pageCount,t=(0,d.useState)(0),s=(0,r.Z)(t,2),c=s[0],k=s[1],u=(0,_.I0)(),p=(0,_.v9)(m.B8),P=(0,_.v9)(h._r),b=(0,_.v9)(o.rl);(0,d.useEffect)((function(){b.totalPages>n&&k(b.totalPages),b.totalPages<n&&k(b.totalPages)}),[b.totalPages,P,n]);var x=(0,_.v9)(v.hx);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g,{}),(0,l.jsx)(a(),{nextLabel:">",breakLabel:"...",onClick:function(e){var n=e.nextSelectedPage+1;console.log(n);var t=window.location.href;t===D&&f(n," ",P).then((function(n){console.log("paginate"),u((0,o.KK)(n)),u((0,v.W5)(e.nextSelectedPage))})).catch((function(e){return console.log(e)})),t!==D&&f(n,p,P).then((function(n){console.log("paginate2"),u((0,o.KK)(n)),u((0,v.W5)(e.nextSelectedPage))})).catch((function(e){return console.log(e)}))},pageCount:c,pageRangeDisplayed:n,marginPagesDisplayed:1,forcePage:x,previousLabel:"<",renderOnZeroPageCount:null,containerClassName:i.Z.pagination,pageClassName:i.Z.page,previousClassName:i.Z.previous,nextClassName:i.Z.next,activeClassName:i.Z.active})]})},x=t(7689),j=t(7750),Z="http://localhost:3000/project05_frontend_test/drinks",N="rejected",y="resolved",C=function(){var e=(0,d.useState)(""),n=(0,r.Z)(e,2),t=n[0],s=n[1],a=(0,d.useState)(8),g=(0,r.Z)(a,2),k=g[0],u=g[1],p=(0,c.lr)(""),P=(0,r.Z)(p,1)[0],D=(0,_.I0)(),C=(0,_.v9)(m.B8),w=(0,_.v9)(h._r),K=(0,x.UO)().categoryName,S=P.get("query");return console.log(S),(0,d.useEffect)((function(){window.addEventListener("resize",(function(e){var n=e.target.innerWidth;console.log(n),n<768&&u(3),n>=768&&u(6)}))}),[D]),(0,d.useEffect)((function(){var e=window.location.href;e===Z&&f(1," ",w).then((function(e){console.log("drinrlist"),e?(D((0,o.KK)(e)),D((0,v.W5)(0)),s(y)):s(N)})).catch((function(e){return console.log(e)})),(e!==Z||S)&&f(1,C,w).then((function(e){console.log("drinrlist2"),e?(D((0,o.KK)(e)),D((0,v.W5)(0)),s(y)):s(N)})).catch((function(e){return console.log(e)}))}),[K,D,C,w,S]),"panding"===t?(0,l.jsx)(j.Z,{}):"resolved"===t?(0,l.jsx)("div",{className:i.Z.drinks,children:(0,l.jsx)(b,{pageCount:k})}):"rejected"===t?(0,l.jsx)("div",{className:i.Z.drinks,children:(0,l.jsx)("img",{className:i.Z.drinks_img_error,src:"../../../images/404.jpg",alt:"404"})}):void 0}},1856:function(e,n,t){t.r(n);var r=t(7541),i=t(3329);n.default=function(){return(0,i.jsx)(r.Z,{})}},805:function(e,n){n.Z={list:"DrinksPage_list__jzJrv",link:"DrinksPage_link__GP1US",container:"DrinksPage_container__jQC6L",button:"DrinksPage_button__gq9oA",backdrop:"DrinksPage_backdrop__09NwI",modal:"DrinksPage_modal__E--PF","is-hidden":"DrinksPage_is-hidden__acLrd",title:"DrinksPage_title__7rehv",filter:"DrinksPage_filter__f7EEk",select:"DrinksPage_select__K0cZc",label:"DrinksPage_label__4jtK-",input:"DrinksPage_input__TSIpy",btn_submit:"DrinksPage_btn_submit__PIdhT",input_svg:"DrinksPage_input_svg__yu5+m",select_btn:"DrinksPage_select_btn__upKz3",btn_svg:"DrinksPage_btn_svg__i3Jom",category_list:"DrinksPage_category_list__skGuL",category_link:"DrinksPage_category_link__0m1JF",category_item:"DrinksPage_category_item__JifoR",ingredients_box:"DrinksPage_ingredients_box__LDkka",ingredients_list:"DrinksPage_ingredients_list__5pq1B",drinks:"DrinksPage_drinks__pSTPQ",drinks_img_error:"DrinksPage_drinks_img_error__B71lt",drinks_list:"DrinksPage_drinks_list__RoCPr",drinks_item:"DrinksPage_drinks_item__n7r1y",drinks_title:"DrinksPage_drinks_title__WXvhT",drinks_card:"DrinksPage_drinks_card__WlwBG",drinks_img:"DrinksPage_drinks_img__WxXhC",drinks_link:"DrinksPage_drinks_link__nIekw",pagination:"DrinksPage_pagination__2U7qg",page:"DrinksPage_page__yhPbZ",active:"DrinksPage_active__-bMIT",previous:"DrinksPage_previous__0UaOH",next:"DrinksPage_next__McVUj"}}}]);
//# sourceMappingURL=856.2e672faf.chunk.js.map