"use strict";(self.webpackChunkproject05_frontend_test=self.webpackChunkproject05_frontend_test||[]).push([[884],{7541:function(e,t,n){n.d(t,{Z:function(){return D}});var r=n(9439),a=n(805),i=n(6048),s=n.n(i),o=n(9434),c=n(9967),l=n(1087),u=n(3329),d=function(){var e=(0,o.v9)(c.rl);return l.rU,(0,u.jsx)("ul",{className:a.Z.drinks_list,children:e.cocktails.map((function(e){var t=e.drink,n=e.drinkThumb,r=e._id;return(0,u.jsx)("li",{className:a.Z.drinks_item,children:(0,u.jsxs)(l.rU,{className:a.Z.drinks_link,to:"/recipe/:".concat(r),children:[(0,u.jsx)("div",{className:a.Z.drinks_card,children:(0,u.jsx)("img",{className:a.Z.drinks_img,src:n,alt:t})}),(0,u.jsx)("h2",{className:a.Z.drinks_title,children:t})]})},r)}))})},g=n(2791),_=n(5861),f=n(7757),p=n.n(f),k=n(1243),m=function(){var e=(0,_.Z)(p().mark((function e(t,n,r){var a,i,s,o,c,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r,i=t,s=localStorage.getItem("token"),(o=k.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(s),e.next=7,o.get("/api/search?keyword=".concat(n,"&pageNumber=").concat(i,"&pageSize=").concat(a));case 7:return c=e.sent,l=c.data,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=n(9265),v=n(1554),x=n(8493),b=function(e){var t=e.pageCount,n=(0,g.useState)(0),i=(0,r.Z)(n,2),l=i[0],_=i[1],f=(0,o.I0)(),p=(0,o.v9)(h.B8),k=(0,o.v9)(x._r),b=(0,o.v9)(c.rl);(0,g.useEffect)((function(){b.totalPages>t&&_(t),b.totalPages<t&&_(b.totalPages)}),[b.totalPages,k,t]);var j=(0,o.v9)(v.hx);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d,{}),(0,u.jsx)(s(),{nextLabel:">",onClick:function(e){var t=e.nextSelectedPage+1;console.log(t),m(t,p,k).then((function(t){f((0,c.KK)(t)),f((0,v.W5)(e.nextSelectedPage))})).catch((function(e){return console.log(e)}))},pageCount:l,pageRangeDisplayed:7,marginPagesDisplayed:1,forcePage:j,previousLabel:"<",renderOnZeroPageCount:null,containerClassName:a.Z.pagination,pageClassName:a.Z.page,previousClassName:a.Z.previous,nextClassName:a.Z.next,activeClassName:a.Z.active})]})},j=n(7689),Z=n(7750),P="rejected",y="resolved",D=function(){var e=(0,g.useState)(""),t=(0,r.Z)(e,2),n=t[0],i=t[1],s=(0,g.useState)(8),l=(0,r.Z)(s,2),d=l[0],_=l[1],f=(0,o.I0)(),p=(0,o.v9)(h.B8),k=(0,o.v9)(x._r),D=(0,j.UO)().categoryName;return(0,g.useEffect)((function(){window.addEventListener("resize",(function(e){var t=e.target.innerWidth;console.log(t),t<768&&_(5),t>=768&&_(8)}))}),[f]),(0,g.useEffect)((function(){console.log(k),D&&m(1,D,k).then((function(e){e?(f((0,c.KK)(e)),f((0,v.W5)(0)),i(y)):i(P)})).catch((function(e){return console.log(e)})),m(1,p,k).then((function(e){e?(f((0,c.KK)(e)),f((0,v.W5)(0)),i(y)):i(P)})).catch((function(e){return console.log(e)}))}),[D,f,p,k]),"panding"===n?(0,u.jsx)(Z.Z,{}):"resolved"===n?(0,u.jsx)("div",{className:a.Z.drinks,children:(0,u.jsx)(b,{pageCount:d})}):"rejected"===n?(0,u.jsx)("div",{className:a.Z.drinks,children:(0,u.jsx)("img",{className:a.Z.drinks_img_error,src:"../../../images/404.jpg",alt:"404"})}):void 0}},7884:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r,a=n(805),i=n(9439),s=n(2791),o=["title","titleId"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){var n=e.title,a=e.titleId,i=l(e,o);return s.createElement("svg",c({width:12,height:8,viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?s.createElement("title",{id:a},n):null,r||(r=s.createElement("path",{d:"M1 1.5L6 6.5L11 1.5",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var d,g,_=s.forwardRef(u),f=(n.p,["title","titleId"]);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){var n=e.title,r=e.titleId,a=k(e,f);return s.createElement("svg",p({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,d||(d=s.createElement("path",{d:"M9.16667 15.8333C12.8486 15.8333 15.8333 12.8486 15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333Z",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})),g||(g=s.createElement("path",{d:"M17.5 17.5L13.875 13.875",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round"})))}var h=s.forwardRef(m),v=(n.p,n(5984)),x=n(5861),b=n(7757),j=n.n(b),Z=n(1243),P=function(){var e=(0,x.Z)(j().mark((function e(){var t,n,r,a;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),(n=Z.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(t),e.next=5,n.get("/api/recipes/category-list");case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=n(9434),D=n(9265),w=n(7689),N=n(1087),L=n(3329),C="panding",S="resolved",O=function(e){var t=e.categoryValue,n=(0,s.useState)([]),r=(0,i.Z)(n,2),o=r[0],c=r[1],l=(0,s.useState)(""),u=(0,i.Z)(l,2),d=u[0],g=u[1],_=(0,y.I0)(),f=(0,w.TH)(),p=function(e){return e.includes("/")?e.split("").filter((function(e){return"/"!==e})).join(""):e};(0,s.useEffect)((function(){g(C),P().then((function(e){p(e),c(e),g(S)})).catch((function(e){return console.log(e)}))}),[_,c,g]);return"resolved"===d&&(0,L.jsx)("ul",{className:a.Z.category_list,children:o.map((function(e){return(0,L.jsx)(N.rU,{className:a.Z.category_link,to:"/drinks/".concat(p(e.category)),state:{from:f},children:(0,L.jsx)("li",{onClick:function(e){return function(e){console.log(e.target.innerHTML),_((0,D.hL)(e.target.innerHTML)),t(e.target.innerHTML)}(e)},className:a.Z.category_item,children:e.category},(0,v.x0)())},(0,v.x0)())}))})},E=function(){var e=(0,x.Z)(j().mark((function e(){var t,n,r,a;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),(n=Z.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(t),e.next=5,n.get("/api/ingredients/list");case 5:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I="panding",T="resolved",U=function(e){var t=e.ingredientValue,n=(0,s.useState)([]),r=(0,i.Z)(n,2),o=r[0],c=r[1],l=(0,s.useState)(""),u=(0,i.Z)(l,2),d=u[0],g=u[1],_=(0,y.I0)(),f=(0,w.TH)();(0,s.useEffect)((function(){g(I),E().then((function(e){!function(e){var t=e.map((function(e){var t=e.title;if(t.length>18){var n=t.split(" ");return n.splice(n.length-1,1,"..."),n.join(" ")}return t}));c(t)}(e),g(T)})).catch((function(e){return console.log(e)}))}),[c,g]);return"resolved"===d&&(0,L.jsx)("div",{className:a.Z.ingredients_box,children:(0,L.jsx)("ul",{className:a.Z.ingredients_list,children:o.map((function(e){return(0,L.jsx)(N.rU,{className:a.Z.category_link,to:"/drinks/".concat(e),state:{from:f},children:(0,L.jsx)("li",{onClick:function(e){return function(e){console.log(e.target.innerHTML),_((0,D.hL)(e.target.innerHTML)),t(e.target.innerHTML)}(e)},className:a.Z.category_item,children:e},(0,v.x0)())},(0,v.x0)())}))})})},F=function(){var e=(0,s.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(0,s.useState)(!1),c=(0,i.Z)(o,2),l=c[0],u=c[1],d=(0,s.useState)(""),g=(0,i.Z)(d,2),f=g[0],p=g[1],k=(0,N.lr)(""),m=(0,i.Z)(k,2),v=m[0],x=m[1],b=(0,s.useState)(""),j=(0,i.Z)(b,2),Z=j[0],w=j[1],C=(0,s.useState)(""),S=(0,i.Z)(C,2),I=S[0],T=S[1],F=(0,y.I0)();console.log(v.get("query"));return(0,L.jsxs)("div",{className:a.Z.filter,children:[(0,L.jsxs)("label",{className:a.Z.label,children:[(0,L.jsx)("button",{type:"submit",className:a.Z.btn_submit,onClick:function(e){e.preventDefault(),""!==f?(console.log(f),x({query:f}),F((0,D.hL)(f)),F(p(""))):alert("Please enter a valid name !")},children:(0,L.jsx)(h,{className:a.Z.input_svg,stroke:"#F3F3F3"})}),(0,L.jsx)("input",{className:a.Z.input,type:"text",name:"filter",title:"Enter the text",placeholder:"Enter the text",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:f,onChange:function(e){return p(e.currentTarget.value.toLowerCase())}})]}),(0,L.jsxs)("div",{className:a.Z.select,children:[(0,L.jsxs)("button",{className:a.Z.select_btn,onClick:function(){l?u(!1):(u(!0),P())},children:[I?"".concat(I):"All categories",(0,L.jsx)(_,{className:a.Z.btn_svg,stroke:"#F3F3F3"})]}),l&&(0,L.jsx)(O,{categoryValue:function(e){T(e)}})]}),(0,L.jsxs)("div",{className:a.Z.select,children:[(0,L.jsxs)("button",{className:a.Z.select_btn,onClick:function(){n?r(!1):(r(!0),E())},children:[Z?"".concat(Z):"Ingredients",(0,L.jsx)(_,{className:a.Z.btn_svg,stroke:"#F3F3F3"})]}),n&&(0,L.jsx)(U,{ingredientValue:function(e){w(e)}})]})]})},z=n(7541),M=n(8493),W=function(){var e=(0,y.I0)();return(0,s.useEffect)((function(){window.addEventListener("resize",(function(t){var n=t.target.innerWidth;n<1440&&e((0,M.tv)(10)),n>=1440&&e((0,M.tv)(9))}))}),[e]),(0,L.jsxs)("div",{className:a.Z.container,children:[(0,L.jsx)("h1",{className:a.Z.title,children:"Drinks"}),(0,L.jsx)(F,{}),(0,L.jsx)(z.Z,{})]})},B=function(){return(0,L.jsx)(W,{})}},805:function(e,t){t.Z={list:"DrinksPage_list__jzJrv",link:"DrinksPage_link__GP1US",container:"DrinksPage_container__jQC6L",button:"DrinksPage_button__gq9oA",backdrop:"DrinksPage_backdrop__09NwI",modal:"DrinksPage_modal__E--PF","is-hidden":"DrinksPage_is-hidden__acLrd",title:"DrinksPage_title__7rehv",filter:"DrinksPage_filter__f7EEk",select:"DrinksPage_select__K0cZc",label:"DrinksPage_label__4jtK-",input:"DrinksPage_input__TSIpy",btn_submit:"DrinksPage_btn_submit__PIdhT",input_svg:"DrinksPage_input_svg__yu5+m",select_btn:"DrinksPage_select_btn__upKz3",btn_svg:"DrinksPage_btn_svg__i3Jom",category_list:"DrinksPage_category_list__skGuL",category_link:"DrinksPage_category_link__0m1JF",category_item:"DrinksPage_category_item__JifoR",ingredients_box:"DrinksPage_ingredients_box__LDkka",ingredients_list:"DrinksPage_ingredients_list__5pq1B",drinks:"DrinksPage_drinks__pSTPQ",drinks_img_error:"DrinksPage_drinks_img_error__B71lt",drinks_list:"DrinksPage_drinks_list__RoCPr",drinks_item:"DrinksPage_drinks_item__n7r1y",drinks_title:"DrinksPage_drinks_title__WXvhT",drinks_card:"DrinksPage_drinks_card__WlwBG",drinks_img:"DrinksPage_drinks_img__WxXhC",drinks_link:"DrinksPage_drinks_link__nIekw",pagination:"DrinksPage_pagination__2U7qg",page:"DrinksPage_page__yhPbZ",active:"DrinksPage_active__-bMIT",previous:"DrinksPage_previous__0UaOH",next:"DrinksPage_next__McVUj"}},5984:function(e,t,n){n.d(t,{x0:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=884.53075c3d.chunk.js.map