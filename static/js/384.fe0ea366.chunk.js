"use strict";(self.webpackChunkproject05_frontend_test=self.webpackChunkproject05_frontend_test||[]).push([[384],{166:function(e,i,t){t.r(i),t.d(i,{default:function(){return Z}});var n=t(9439),r=t(2791),a=t(9434),c=t(223),s=t(7689),o=t.p+"static/media/PreparationCocktail.360123781c322ec7c35a.jpg",_={recipe_container:"RecipePage_recipe_container__gSv2v",recipe_details_main:"RecipePage_recipe_details_main__klf4Z",recipe_glass:"RecipePage_recipe_glass__-Tn9K",recipe_title:"RecipePage_recipe_title__QipAi",recipe_about:"RecipePage_recipe_about__pukPm",add_button:"RecipePage_add_button__hE6zG",drink_image:"RecipePage_drink_image__sO85K",recipe_details:"RecipePage_recipe_details__Z7459",recipe_ingredients_title:"RecipePage_recipe_ingredients_title__XKFjE",recipe_ingredients:"RecipePage_recipe_ingredients__rXCll",ingredient_list:"RecipePage_ingredient_list__p2Jts",ingredient_item:"RecipePage_ingredient_item__tlSrP",ingredient_photo:"RecipePage_ingredient_photo__507zr",ingredient_title:"RecipePage_ingredient_title__nE4DX",ingredient_information:"RecipePage_ingredient_information__X538O",ingredient_measure:"RecipePage_ingredient_measure__cfFXL",recipe_preparations_title:"RecipePage_recipe_preparations_title__RAEay",recipe_instructions:"RecipePage_recipe_instructions__P9u+9",recipe_instructions_text:"RecipePage_recipe_instructions_text__R9Ue0",recipe_preparations_info:"RecipePage_recipe_preparations_info__1O6B3",preparation_image:"RecipePage_preparation_image__3unAu"},p=t(3329),d=function(e){var i=e.id,t=e.type,n=void 0===t?"submit":t,r=e.onDeleteFavorites,a=e.children,c=void 0===a?"Remove from favorites":a;return(0,p.jsx)("button",{onClick:function(){return r(i)},className:_.add_button,type:n,children:c})},u=function(e){var i=e.id,t=e.type,n=void 0===t?"submit":t,r=e.handleFavButton,a=e.children,c=void 0===a?"Add to favorites":a;return(0,p.jsx)("button",{onClick:function(){return r(i)},className:_.add_button,type:n,children:c})},l=t(1413),g=t.p+"static/media/glass.7e5dc1132867a5e72233.jpg",m=function(e){var i=e.ingredientThumb,t=e.title,n=e.measure;return(0,p.jsxs)("li",{className:_.ingredient_item,children:[(0,p.jsx)("img",{alt:"coctail_ingredient",className:_.ingredient_photo,src:i||g}),(0,p.jsxs)("div",{className:_.ingredient_information,children:[(0,p.jsxs)("h2",{className:_.ingredient_title,children:[t," "]}),(0,p.jsx)("p",{className:_.ingredient_measure,children:n})]})]})},h=t(5984),f=function(e){var i=e.items,t=(void 0===i?[]:i).map((function(e){var i=Object.assign({},e);return(0,p.jsx)(m,(0,l.Z)({},i),(0,h.x0)())}));return(0,p.jsx)("ul",{className:_.ingredient_list,children:t})},v=t(5861),x=t(4687),j=t.n(x),R=t(1243);function k(){return(k=(0,v.Z)(j().mark((function e(i){var t,n,r,a;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),(n=R.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(t),e.next=5,n.get("/api/recipes/".concat(i));case 5:return r=e.sent,a=r.data,console.log(a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){var e=(0,v.Z)(j().mark((function e(i){var t,n,r,a,c;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),(n=R.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(t),e.next=5,n.get("/api/auth/:id?email=".concat(i));case 5:return r=e.sent,a=r.data,c=a.user._id,console.log(c),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),b=t.p+"static/media/cocktailglass.69d9f9ec10a179b0bfe6.jpg",N=t(7750),y=function(){var e=(0,a.I0)(),i=(0,r.useState)(""),t=(0,n.Z)(i,2),l=t[0],g=t[1],m=(0,r.useState)(!1),h=(0,n.Z)(m,2),v=h[0],x=h[1],j=(0,r.useState)(""),R=(0,n.Z)(j,2),y=R[0],Z=R[1],S=(0,r.useState)([]),w=(0,n.Z)(S,2),A=w[0],C=w[1],I=(0,s.UO)().recipeId,F=(0,r.useState)(!1),O=(0,n.Z)(F,2),U=O[0],B=O[1];(0,r.useEffect)((function(){""!==I&&(X(),E())}),[I]);var E=function(){x(!0),function(e){return k.apply(this,arguments)}(I).then((function(e){g(e),C(e.usersId),x(!1)}))},T=(0,a.v9)((function(e){return e.auth.data.user.email})),X=function(){x(!0),P(T).then((function(e){Z(e),x(!1)}))};return(0,p.jsxs)("div",{className:_.recipe_container,children:[v&&(0,p.jsx)("div",{children:(0,p.jsx)(N.Z,{})}),(0,p.jsxs)("div",{className:_.recipe_details,children:[(0,p.jsxs)("div",{className:_.recipe_details_main,children:[(0,p.jsx)("p",{className:_.recipe_glass,children:l.glass}),(0,p.jsx)("h2",{className:_.recipe_title,children:l.drink}),(0,p.jsxs)("p",{className:_.recipe_about,children:[" ",l.description?l.drink:"Do you want to mix up some quick and easy cocktail at home? This recipe is for you.","  "]}),(0,p.jsx)("div",{children:U||A.includes(y)?(0,p.jsx)(d,{id:I,onDeleteFavorites:function(i){e((0,c.fu)(i)),E(),B(!1)}}):(0,p.jsx)(u,{id:I,handleFavButton:function(i){e((0,c.IO)(i)),E(),B(!0)}})})]}),(0,p.jsx)("img",{src:l.drinkThumb?l.drinkThumb:b,alt:"drink_photo",className:_.drink_image})]}),(0,p.jsxs)("div",{className:_.recipe_ingredients,children:[(0,p.jsx)("p",{className:_.recipe_ingredients_title,children:"Ingredients"}),(0,p.jsx)("div",{className:_.recipe_ingredients_list,children:(0,p.jsx)(f,{items:l.ingredients})})]}),(0,p.jsxs)("div",{className:_.recipe_preparations,children:[(0,p.jsx)("h3",{className:_.recipe_preparations_title,children:"Recipe Preparation"}),(0,p.jsxs)("div",{className:_.recipe_preparations_info,children:[(0,p.jsx)("div",{className:_.recipe_instructions,children:(0,p.jsxs)("p",{className:_.recipe_instructions_text,children:[" ",l.instructions]})}),(0,p.jsx)("img",{src:o,alt:"drink_photo",className:_.preparation_image})]})]})]})},Z=function(){return(0,p.jsx)(y,{})}},5984:function(e,i,t){t.d(i,{x0:function(){return n}});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,i){return e+=(i&=63)<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=384.fe0ea366.chunk.js.map