"use strict";(self.webpackChunkproject05_frontend_test=self.webpackChunkproject05_frontend_test||[]).push([[384],{166:function(e,i,t){t.r(i),t.d(i,{default:function(){return w}});var n=t(9439),r=t(2791),a=t(9434),c=t(223),s=t(3756),o=t(7689),_=t.p+"static/media/PreparationCocktail.360123781c322ec7c35a.jpg",p={recipe_container:"RecipePage_recipe_container__gSv2v",recipe_details_main:"RecipePage_recipe_details_main__klf4Z",recipe_glass:"RecipePage_recipe_glass__-Tn9K",recipe_title:"RecipePage_recipe_title__QipAi",recipe_about:"RecipePage_recipe_about__pukPm",add_button:"RecipePage_add_button__hE6zG",drink_image:"RecipePage_drink_image__sO85K",recipe_details:"RecipePage_recipe_details__Z7459",recipe_ingredients_title:"RecipePage_recipe_ingredients_title__XKFjE",recipe_ingredients:"RecipePage_recipe_ingredients__rXCll",ingredient_list:"RecipePage_ingredient_list__p2Jts",ingredient_item:"RecipePage_ingredient_item__tlSrP",ingredient_photo:"RecipePage_ingredient_photo__507zr",ingredient_title:"RecipePage_ingredient_title__nE4DX",ingredient_information:"RecipePage_ingredient_information__X538O",ingredient_measure:"RecipePage_ingredient_measure__cfFXL",recipe_preparations_title:"RecipePage_recipe_preparations_title__RAEay",recipe_instructions:"RecipePage_recipe_instructions__P9u+9",recipe_instructions_text:"RecipePage_recipe_instructions_text__R9Ue0",recipe_preparations_info:"RecipePage_recipe_preparations_info__1O6B3",preparation_image:"RecipePage_preparation_image__3unAu"},d=t(3329),u=function(e){var i=e.id,t=e.type,n=void 0===t?"submit":t,r=e.onDeleteFavorites,a=e.children,c=void 0===a?"Remove from favorites":a;return(0,d.jsx)("button",{onClick:function(){return r(i)},className:p.add_button,type:n,children:c})},l=function(e){var i=e.id,t=e.type,n=void 0===t?"submit":t,r=e.handleFavButton,a=e.children,c=void 0===a?"Add to favorites":a;return(0,d.jsx)("button",{onClick:function(){return r(i)},className:p.add_button,type:n,children:c})},g=t(1413),m=t.p+"static/media/glass.7e5dc1132867a5e72233.jpg",f=function(e){var i=e.ingredientThumb,t=e.title,n=e.measure;return(0,d.jsxs)("li",{className:p.ingredient_item,children:[(0,d.jsx)("img",{alt:"coctail_ingredient",className:p.ingredient_photo,src:i||m}),(0,d.jsxs)("div",{className:p.ingredient_information,children:[(0,d.jsxs)("h2",{className:p.ingredient_title,children:[t," "]}),(0,d.jsx)("p",{className:p.ingredient_measure,children:n})]})]})},h=t(5984),v=function(e){var i=e.items,t=(void 0===i?[]:i).map((function(e){var i=Object.assign({},e);return(0,d.jsx)(f,(0,g.Z)({},i),(0,h.x0)())}));return(0,d.jsx)("ul",{className:p.ingredient_list,children:t})},x=t(5861),j=t(4687),R=t.n(j),k=t(1243);function P(){return(P=(0,x.Z)(R().mark((function e(i){var t,n,r,a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),(n=k.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(t),e.next=5,n.get("/api/recipes/".concat(i));case 5:return r=e.sent,a=r.data,console.log(a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){var e=(0,x.Z)(R().mark((function e(i){var t,n,r,a,c;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),(n=k.Z.create({baseURL:"https://project05-backend.onrender.com"})).defaults.headers.common.Authorization="Bearer ".concat(t),e.next=5,n.get("/api/auth/:id?email=".concat(i));case 5:return r=e.sent,a=r.data,c=a.user._id,console.log(c),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),N=t.p+"static/media/cocktailglass.69d9f9ec10a179b0bfe6.jpg",y=t(7750),Z=t(2993),S=function(){var e=(0,a.I0)(),i=(0,r.useState)(""),t=(0,n.Z)(i,2),g=t[0],m=t[1],f=(0,r.useState)(!1),h=(0,n.Z)(f,2),x=h[0],j=h[1],R=(0,r.useState)(""),k=(0,n.Z)(R,2),S=k[0],w=k[1],A=(0,r.useState)([]),C=(0,n.Z)(A,2),I=C[0],E=C[1],F=(0,o.UO)().recipeId,O=(0,r.useState)(!1),U=(0,n.Z)(O,2),B=U[0],T=U[1];(0,r.useEffect)((function(){""!==F&&(K(),X())}),[F]);var X=function(){j(!0),function(e){return P.apply(this,arguments)}(F).then((function(e){m(e),E(e.usersId),j(!1)}))};(0,r.useEffect)((function(){e((0,s.A)())}),[e]);var z=(0,a.v9)(Z._).map((function(e){return e._id})),D=(0,a.v9)((function(e){return e.auth.data.user.email})),K=function(){j(!0),b(D).then((function(e){w(e),j(!1)}))};return(0,d.jsxs)("div",{className:p.recipe_container,children:[x&&(0,d.jsx)("div",{children:(0,d.jsx)(y.Z,{})}),(0,d.jsxs)("div",{className:p.recipe_details,children:[(0,d.jsxs)("div",{className:p.recipe_details_main,children:[(0,d.jsx)("p",{className:p.recipe_glass,children:g.glass}),(0,d.jsx)("h2",{className:p.recipe_title,children:g.drink}),(0,d.jsxs)("p",{className:p.recipe_about,children:[" ",g.description?g.drink:"Do you want to mix up some quick and easy cocktail at home? This recipe is for you.","  "]}),z.includes(F)?(0,d.jsx)("div",{}):(0,d.jsx)("div",{children:B||I.includes(S)?(0,d.jsx)(u,{id:F,onDeleteFavorites:function(i){e((0,c.fu)(i)),X(),T(!1)}}):(0,d.jsx)(l,{id:F,handleFavButton:function(i){e((0,c.IO)(i)),X(),T(!0)}})})]}),(0,d.jsx)("img",{src:g.drinkThumb?g.drinkThumb:N,alt:"drink_photo",className:p.drink_image})]}),(0,d.jsxs)("div",{className:p.recipe_ingredients,children:[(0,d.jsx)("p",{className:p.recipe_ingredients_title,children:"Ingredients"}),(0,d.jsx)("div",{className:p.recipe_ingredients_list,children:(0,d.jsx)(v,{items:g.ingredients})})]}),(0,d.jsxs)("div",{className:p.recipe_preparations,children:[(0,d.jsx)("h3",{className:p.recipe_preparations_title,children:"Recipe Preparation"}),(0,d.jsxs)("div",{className:p.recipe_preparations_info,children:[(0,d.jsx)("div",{className:p.recipe_instructions,children:(0,d.jsxs)("p",{className:p.recipe_instructions_text,children:[" ",g.instructions]})}),(0,d.jsx)("img",{src:_,alt:"drink_photo",className:p.preparation_image})]})]})]})},w=function(){return(0,d.jsx)(S,{})}},2993:function(e,i,t){t.d(i,{_:function(){return n}});var n=function(e){return e.recipes.items}},5984:function(e,i,t){t.d(i,{x0:function(){return n}});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,i){return e+=(i&=63)<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=384.d448e054.chunk.js.map